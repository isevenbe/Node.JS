<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
</head>

<body>
    <form action="" class="">
        <label for="name">Student Name</label>
        <input type="text" name="name" id="" class="studentName">
        <label for="watchSubject">Watch Subject</label>
        <input type="text" name="watchSubject" id="" class="watchSubject">
        <label for="nextWatchDate">Next watch Date</label>
        <input type="date" name="nextWatchDate" id="" class="nextWatchDate">
        <input type="submit" value="Send" class="send">
    </form>
    <script>
      let get1 = document.querySelector(".studentName");
        let get2 = document.querySelector(".watchSubject");
        let get3 = document.querySelector(".nextWatchDate");
        



        const myFunc = () => {
            get1.toString();
            get2.toString();
            get3.toString();
                fetch("http://localhost:2525/students/new",
                    {
                        headers: {
                            'Accept': 'application/json',
                            'Content-Type': 'application/json'
                        },
                        // mode: "no-cors",
                        method: "POST",
                        body: JSON.stringify({ studentName: get1.value, nextWatch: get2.value, watchSubject: get3.value })
                    })
                    .then((res) => res.json())
                    .then(function (res) { console.log(res) })
                    .catch(function (res) {console.log(res)} )
        }
        document.querySelector(".send").addEventListener("click", myFunc)

    </script>

</body>

</html>